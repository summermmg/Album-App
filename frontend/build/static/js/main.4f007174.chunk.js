(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{130:function(e,a,t){},131:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t(19),s=t.n(r),c=(t(82),t(83),t(142)),l=t(141),i=t(31),o=t(2),d=function(){return Object(o.jsxs)(c.a,{collapseOnSelect:!0,expand:"lg",bg:"primary",variant:"dark",className:"px-4",children:[Object(o.jsx)(i.LinkContainer,{className:"mr-5",to:"/",children:Object(o.jsxs)(c.a.Brand,{children:[Object(o.jsx)("i",{className:"fas fa-camera"})," Album"]})}),Object(o.jsx)(c.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(o.jsx)(c.a.Collapse,{id:"responsive-navbar-nav",children:Object(o.jsxs)(l.a,{className:"mr-auto",children:[Object(o.jsx)(i.LinkContainer,{to:"/",className:"mr-5",children:Object(o.jsx)(l.a.Link,{children:"Home"})}),Object(o.jsx)(i.LinkContainer,{to:"/samples",className:"mr-5",children:Object(o.jsxs)(l.a.Link,{children:[Object(o.jsx)("i",{className:"fas fa-paw"})," Samples"]})}),Object(o.jsx)(i.LinkContainer,{to:"/myalbum",className:"mr-5",children:Object(o.jsxs)(l.a.Link,{children:[Object(o.jsx)("i",{className:"fas fa-heart"})," My Album"]})}),Object(o.jsx)(i.LinkContainer,{to:"/fileupload",children:Object(o.jsxs)(l.a.Link,{children:[Object(o.jsx)("i",{className:"fas fa-plus"})," Add New Image"]})})]})})]})},j=t(28),u=t(7),m=t(140),p=function(){return Object(o.jsx)("div",{className:"jumbotron px-5",children:Object(o.jsxs)(m.a,{className:"mx-5",children:[Object(o.jsxs)(m.a.Item,{interval:4e3,children:[Object(o.jsx)("img",{className:"d-block w-100",src:"/images/home1.jpg",alt:"First slide"}),Object(o.jsx)(m.a.Caption,{children:Object(o.jsx)("h5",{style:{color:"white"},children:"Santa Barbara, CA, USA"})})]}),Object(o.jsxs)(m.a.Item,{interval:5e3,children:[Object(o.jsx)("img",{className:"d-block w-100",src:"/images/home2.jpg",alt:"Third slide"}),Object(o.jsx)(m.a.Caption,{children:Object(o.jsx)("h5",{style:{color:"white"},children:"Santa Barbara, CA, USA"})})]}),Object(o.jsxs)(m.a.Item,{interval:5e3,children:[Object(o.jsx)("img",{className:"d-block w-100",src:"/images/home3.jpg",alt:"Third slide"}),Object(o.jsx)(m.a.Caption,{children:Object(o.jsx)("h5",{style:{color:"white"},children:"Los Angeles, CA, USA"})})]})]})})},b=t(23),h=t(12),O=t(22),x=t.n(O),g=t(37),f=t(38),v=t.n(f),y="GET_SAMPLES_REQUEST",N="GET_SAMPLES_SUCCESS",S="GET_SAMPLES_FAIL",E="UPLOAD_REQUEST",w="UPLOAD_LOADING_PERCENTAGE",A="UPLOAD_SUCCESS",C="UPLOAD_FAIL",L="GET_UPLOADS_REQUEST",k="GET_UPLOADS_SUCCESS",T="GET_UPLOADS_FAIL",_="DELETE_IMAGE_REQUEST",I="DELETE_IMAGE_FAIL",P="DELETE_IMAGE_SUCCESS",U=function(e){return function(){var a=Object(g.a)(x.a.mark((function a(t){var n,r;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:E}),a.next=4,v.a.post("/upload",e,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){t({type:w,payload:parseInt(Math.round(100*e.loaded/e.total))})}});case 4:n=a.sent,r=n.data,t({type:A,payload:r}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),500===a.t0.response.status?t({type:C,payload:"There was a problem with the server"}):t({type:C,payload:a.t0.response.data.msg});case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()},F=t(143),D=function(e){var a=e.children,t=e.variant,r=Object(n.useState)(!0),s=Object(b.a)(r,2),c=s[0],l=s[1];return c?Object(o.jsx)(F.a,{variant:t,onClose:function(){return l(!1)},dismissible:!0,children:a}):null},M=function(e){var a=e.loadedPercentage;return Object(o.jsx)("div",{className:"progress",children:Object(o.jsxs)("div",{className:"progress-bar progress-bar-striped progress-bar-animated",role:"progressbar","aria-valuenow":"75","aria-valuemin":"0","aria-valuemax":"100",style:{width:"".concat(a,"%")},children:[a,"%"]})})},G=function(){var e=Object(h.c)((function(e){return e.upload})),a=e.uploadedFile,t=(e.loading,e.loadedPercentage),r=e.error,s=Object(n.useState)(null),c=Object(b.a)(s,2),l=c[0],i=c[1],d=Object(n.useState)("Choose File"),j=Object(b.a)(d,2),u=j[0],m=j[1],p=Object(n.useState)(""),O=Object(b.a)(p,2),x=O[0],g=O[1],f=Object(h.b)();return Object(o.jsx)(n.Fragment,{children:Object(o.jsxs)("div",{className:"jumbotron text-center mx-auto mt-5",style:{width:"40%"},children:[Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),null===l&&f(U(new FormData));var a=new FormData;""!==x&&a.append("description",x),a.append("file",l),f(U(a)),g(""),m("Choose File"),i(null)},className:"mb-3",children:[Object(o.jsx)("div",{className:"form-group",children:Object(o.jsxs)("div",{className:"custom-file mb-4",children:[Object(o.jsx)("input",{type:"file",className:"custom-file-input",id:"customFile",onChange:function(e){i(e.target.files[0]),m(e.target.files[0].name)}}),Object(o.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:u})]})}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{for:"exampleTextarea",children:"Image Description"}),Object(o.jsx)("textarea",{value:x,onChange:function(e){g(e.target.value)},className:"form-control",id:"image-textarea",rows:"3"})]}),Object(o.jsx)("div",{className:"form-group",children:Object(o.jsx)("input",{type:"submit",value:"Upload",className:"btn btn-primary mt-4"})})]}),t?Object(o.jsx)(M,{loadedPercentage:t}):null,r?Object(o.jsx)(D,{variant:"warning",children:r}):null,a?Object(o.jsx)("div",{className:"row mt-5",children:Object(o.jsxs)("div",{className:"col-md-6 m-auto",children:[Object(o.jsx)(D,{variant:"success",children:"Image uploaded"}),Object(o.jsx)("h3",{className:"text-center",children:a.fileName}),Object(o.jsx)("img",{style:{width:"100%"},src:a.filePath,alt:""})]})}):null]})})},R=t(139),B=t(144),Q=t(71),J=t.n(Q),H=function(e){var a=e.el,t=e.imageArray,r=e.excerpt,s=t.indexOf(a.img),c=Object(h.b)(),l=Object(n.useState)(!1),i=Object(b.a)(l,2),d=i[0],j=i[1];return Object(o.jsxs)("div",{className:"card border-secondary mb-4",children:[r&&Object(o.jsxs)(R.a,{className:"d-flex justify-content-end",children:[Object(o.jsx)(R.a.Toggle,{variant:"light",id:"dropdown-basic",children:Object(o.jsx)("i",{className:"fas fa-bars"})}),Object(o.jsx)(R.a.Menu,{children:Object(o.jsx)(R.a.Item,{onClick:function(){var e;c((e=a.id,function(){var a=Object(g.a)(x.a.mark((function a(t){var n,r;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:_}),console.log(e),a.next=5,v.a.delete("/api/uploads/".concat(e));case 5:n=a.sent,r=n.data,t({type:P,paylaod:r.uploads}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),t({type:I,payload:a.t0.response.data.msg});case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()))},children:"Delete"})})]}),Object(o.jsx)("div",{className:"card-body",children:Object(o.jsx)("h5",{children:a.description})}),Object(o.jsx)(B.a.Img,{onClick:function(){j(!0)},variant:"bottom",src:a.img,className:"img-fluid"}),d&&Object(o.jsx)(J.a,{src:t,currentIndex:s,onClose:function(){j(!1)},backgroundStyle:{backgroundColor:"rgba(0,0,0,0.9)"}})]})},W=t(136),q=t(137),z=function(){return Object(o.jsx)(W.a,{className:"loader text-center",children:Object(o.jsx)(q.a,{animation:"border",role:"status",style:{height:"100px",width:"100px"},children:Object(o.jsx)("span",{className:"sr-only",children:"Loading..."})})})},K=t(138),V=function(){var e=Object(h.b)(),a=Object(h.c)((function(e){return e.uploads})),t=a.uploads,r=a.loading,s=a.error,c=Object(h.c)((function(e){return e.deleteImage})).message;Object(n.useEffect)((function(){e(function(){var e=Object(g.a)(x.a.mark((function e(a){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:L}),e.next=4,v.a.get("/api/uploads");case 4:t=e.sent,n=t.data,a({type:k,payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a({type:T,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a){return e.apply(this,arguments)}}())}),[e,c]);var l,i=[];return t.map((function(e){return i.push(e.img)})),l=r?Object(o.jsx)(z,{}):s?Object(o.jsx)(D,{variant:"danger",children:s}):t.map((function(e){return Object(o.jsx)(W.a,{sm:12,md:6,lg:4,xl:3,children:Object(o.jsx)(H,{el:e,imageArray:i,excerpt:!0})},e.id)})),Object(o.jsx)("div",{className:"section",children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)("h2",{className:"my-5",children:"My Album"}),0===t.length&&Object(o.jsxs)(D,{variant:"info",children:["There is no image in this album. ",Object(o.jsx)(j.Link,{to:"/fileupload",children:"Upload one."})]}),Object(o.jsx)(K.a,{className:"align-items-center",children:l})]})})},X=function(){var e=Object(h.b)(),a=Object(h.c)((function(e){return e.samples})),t=a.samples,r=a.loading,s=a.error;Object(n.useEffect)((function(){e(function(){var e=Object(g.a)(x.a.mark((function e(a){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:y}),e.next=4,v.a.get("/api/samples");case 4:t=e.sent,n=t.data,a({type:N,payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a({type:S,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a){return e.apply(this,arguments)}}())}),[e]);var c,l=[];return t.map((function(e){return l.push(e.img)})),c=r?Object(o.jsx)(z,{}):s?Object(o.jsx)(D,{variant:"danger",children:s}):t.map((function(e){return Object(o.jsx)(W.a,{sm:12,md:6,lg:4,xl:3,children:Object(o.jsx)(H,{el:e,imageArray:l})},e.id)})),Object(o.jsx)("div",{className:"section",children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)("h2",{className:"my-5",children:"Sample Album"}),Object(o.jsx)(K.a,{className:"align-items-center","data-toggle":"modal","data-target":"#exampleModal",children:c})]})})},Y=(t(130),function(){return Object(o.jsxs)(j.BrowserRouter,{children:[Object(o.jsx)(d,{}),Object(o.jsxs)("main",{children:[Object(o.jsx)(u.d,{exact:!0,path:"/",component:p}),Object(o.jsx)(u.d,{path:"/samples",component:X}),Object(o.jsx)(u.d,{path:"/myalbum",component:V}),Object(o.jsx)(u.d,{path:"/fileupload",component:G})]})]})}),Z=t(26),$=t(74),ee=t(75),ae=Object(Z.combineReducers)({samples:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{samples:[]},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case y:return{loading:!0,samples:[]};case N:return{loading:!1,samples:a.payload};case S:return{loading:!1,error:a.payload};default:return e}},upload:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{uploadedFile:""},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case E:return{loading:!0,uploadedFile:"",loadedPercentage:0};case w:return{loading:!0,uploadedFile:"",loadedPercentage:a.payload};case A:var t=a.payload,n=t.fileName,r=t.filePath;return{loading:!1,uploadedFile:{fileName:n,filePath:r},loadedPercentage:100};case C:return{loading:!1,error:a.payload};default:return e}},uploads:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{uploads:[]},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case L:return{loading:!0,uploads:[]};case k:return{loading:!1,uploads:a.payload};case T:return{loading:!1,error:a.payload};default:return e}},deleteImage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:""},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case _:return{loading:!0,message:""};case P:return{loading:!1,message:"Image deleted!"};case I:return{loading:!1,error:a.payload};default:return e}}}),te=Object(ee.composeWithDevTools)(Object(Z.applyMiddleware)($.a)),ne=Object(Z.createStore)(ae,{},te);s.a.render(Object(o.jsx)(h.a,{store:ne,children:Object(o.jsx)(Y,{})}),document.getElementById("root"))},82:function(e,a,t){},83:function(e,a,t){}},[[131,1,2]]]);
//# sourceMappingURL=main.4f007174.chunk.js.map